(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],r[i]&&m.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},r={app:0},a=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/admin-dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),r=n("ce5b"),a=n.n(r);n("bf40");s["default"].use(a.a,{});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},["login"==t.$route.name?n("v-content",[n("router-view")],1):[n("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[t._l(t.itemsByPermissions,function(e){return[e.heading?n("v-layout",{key:e.heading,attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs6:""}},[e.heading?n("v-subheader",[t._v("\n                "+t._s(e.heading)+"\n              ")]):t._e()],1),n("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[n("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[t._v("EDIT")])])],1):e.children?n("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},model:{value:e.model,callback:function(n){t.$set(e,"model",n)},expression:"item.model"}},[n("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                  "+t._s(e.text)+"\n                ")])],1)],1),t._l(e.children,function(e,s){return n("router-link",{key:s,attrs:{tag:"v-list-tile",to:e.path}},[e.icon?n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1):t._e(),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                  "+t._s(e.text)+"\n                ")])],1)],1)})],2):n("router-link",{key:e.text,attrs:{tag:"v-list-tile",to:e.path}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                "+t._s(e.text)+"\n              ")])],1)],1)]})],2)],1),n("v-toolbar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,color:"blue darken-3",dark:"",app:"",fixed:""}},[n("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("router-link",{staticStyle:{cursor:"pointer"},attrs:{tag:"span",to:"/"}},[t._v("\n          Název aplikace\n        ")])],1),n("v-spacer")],1),n("v-content",[n("router-view")],1)],n(t.mainModal,{tag:"component",attrs:{myData:t.mainModalData}}),n("render-component",{attrs:{component:t.getComponent}})],2)},o=[],c=n("b17e"),l={props:["component"],functional:!0,render:function(t,e){var n=e.props;return n.component}},u={components:{"render-component":l},data:function(){return{dialog:!1,drawer:!1,items:[{icon:"tablet_android",text:"Forms",path:"/forms"},{icon:"tablet_android",text:"Sections",path:"/sections"},{icon:"tablet_android",text:"Questions",path:"/"},{icon:"tablet_android",text:"Answers",path:"/answers"},{icon:"tablet_android",text:"Users",path:"/users"},{icon:"power_settings_new",text:"Log out",path:"/fe/logout"}]}},computed:{mainModal:function(){return this.$store.state.mainModal},getComponent:function(){return this.$store.state.component},mainModalData:function(){return this.$store.state.mainModal?this.$store.state.mainModal.myData:null},itemsByPermissions:function(){var t=this,e=this.items;return Object(c["b"])(function(e){var n=e.auth;return!n||t.$ability.can(n[0],n[1])},e)}},created:function(){}},d=u,m=n("2877"),f=Object(m["a"])(d,i,o,!1,null,null,null);f.options.__file="App.vue";var v=f.exports,p=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[n("h1",[t._v("Přihlášení")])]),n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":"","mt-3":""}},[n("v-form",{ref:"form"},[n("v-layout",{attrs:{column:""}},[n("v-flex",[n("v-text-field",{attrs:{rules:t.inputRequired,label:"Uživatelské jméno",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),n("v-flex",[n("v-text-field",{attrs:{rules:t.inputRequired,label:"Heslo",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-flex",{staticClass:"text-xs-center",attrs:{"mt-5":""}},[n("v-btn",{attrs:{color:"primary"},on:{click:t.login}},[t._v("Přihlásit se")])],1)],1)],1)],1)],1)],1)},x=[],_=(n("96cf"),n("3040")),g={data:function(){return{inputRequired:[function(t){return!!t||"Povinné pole"}],username:"",password:""}},computed:{},created:function(){},watch:{},methods:{login:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.form.validate()){t.next=12;break}return t.prev=1,t.next=4,this.axios.post("/login",{username:this.username,password:this.password});case 4:e=t.sent,localStorage.basicToken=e.data.basicToken,location.href="/",t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),alert("Nepovedené přihlášení");case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}()}},b=g,w=Object(m["a"])(b,h,x,!1,null,null,null);w.options.__file="Login.vue";w.exports;var y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Questions")]),n("v-card",[n("v-card-text",[n("div",{attrs:{xs12:"",color:"white"}},[n("new")],1),n("v-data-table",{staticClass:"elevation-3",attrs:{search:t.search,headers:t.headers,items:t.questions,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.text))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:s.id}}),n("delete",{attrs:{id:s.id}})],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},k=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},$=[],j={methods:{editItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,n,s,r,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:0,n=this.$createElement,s={},!e){t.next=8;break}return t.next=6,this.axios.get("/questions/".concat(e));case 6:r=t.sent,s=r.data;case 8:this.$store.commit("setComponent",n(rt,{attrs:{defaultItem:s,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},O={props:["id"],mixins:[j]},C=O,E=Object(m["a"])(C,I,$,!1,null,null,null);E.options.__file="EditButton.vue";var S=E.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New question")])},R=[],q={mixins:[j]},N=q,B=Object(m["a"])(N,A,R,!1,null,null,null);B.options.__file="NewButton.vue";var T=B.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},U=[],F={props:["id"],methods:{deleteItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this question?")){t.next=4;break}return t.next=3,this.axios.delete("/questions/".concat(e));case 3:this.$store.dispatch("loadAllQuestions",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},P=F,G=Object(m["a"])(P,D,U,!1,null,null,null);G.options.__file="DeleteButton.vue";var M=G.exports,Q=function(t){return{functional:!0,render:function(e,n){var s=Object(c["e"])(["parent","$ability"],n);return s&&(!t.auth||t.auth&&t.auth(s))?e(t,n):null}}},L=Q(S),Z=Q(T),z=Q(M),J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("section-select",{attrs:{value:t.editedItem.section_id,multiple:!1},on:{change:function(e){t.editedItem.section_id=e.id}}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Index",type:"number"},model:{value:t.editedItem.index,callback:function(e){t.$set(t.editedItem,"index",e)},expression:"editedItem.index"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:"Question"},model:{value:t.editedItem.text,callback:function(e){t.$set(t.editedItem,"text",e)},expression:"editedItem.text"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},Y=[],H=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-select",t._b({attrs:{items:t.sections,"item-text":"name","item-value":"id"},on:{change:t.changeInner}},"v-select",t.currentProps,!1))}),W=[],K={props:{label:{type:String,default:"Sections"},multiple:{type:Boolean,default:!1},"persistent-hint":{type:Boolean,default:!0},"return-object":{type:Boolean,default:!0},change:Function,value:{default:void 0},rules:Array},created:function(){this.$store.dispatch("loadAllSections")},computed:{sections:function(){return this.$store.state.section.sections},currentProps:function(){return this.$props}},methods:{changeInner:function(t){return this.change?this.change(t):this.$emit("change",t)}}},V=K,X=Object(m["a"])(V,H,W,!1,null,null,null);X.options.__file="SectionSelect.vue";var tt=X.exports,et={components:{"section-select":tt},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit question":"New question"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/questions";this.id>0&&(e+="/"+this.id);var n=new FormData;Object(c["d"])(function(t,e){n.append(e,t)},this.editedItem),this.axios.post(e,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t.$store.dispatch("loadAllQuestions",!0)}),this.close()},onFilePicked:function(t){this.editedItem.img=t.target.files[0]},pickFile:function(){this.$refs.image.click()}}},nt=et,st=Object(m["a"])(nt,J,Y,!1,null,null,null);st.options.__file="DialogQuestion.vue";var rt=st.exports,at={components:{new:Z,edit:L,delete:z},data:function(){return{search:"",headers:[{text:"Znění otázky",value:"text",align:"center"},{text:"Akce",value:"action",align:"center"}]}},computed:{questions:function(){return this.$store.state.question.questions}},created:function(){this.$store.dispatch("loadAllQuestions")},watch:{},methods:{}},it=at,ot=Object(m["a"])(it,y,k,!1,null,null,null);ot.options.__file="Home.vue";var ct=ot.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Sections")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.sections,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.description))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.form_name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.index))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:s.id}}),n("delete",{attrs:{id:s.id}}),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.translate(s)}}},[t._v("language")])],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},ut=[],dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},mt=[],ft={methods:{editItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,n,s,r,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:0,n=this.$createElement,s={},!e){t.next=8;break}return t.next=6,this.axios.get("/sections/".concat(e));case 6:r=t.sent,s=r.data;case 8:this.$store.commit("setComponent",n(Lt,{attrs:{defaultItem:s,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},vt={props:["id"],mixins:[ft]},pt=vt,ht=Object(m["a"])(pt,dt,mt,!1,null,null,null);ht.options.__file="EditButton.vue";var xt=ht.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New section")])},gt=[],bt={mixins:[ft]},wt=bt,yt=Object(m["a"])(wt,_t,gt,!1,null,null,null);yt.options.__file="NewButton.vue";var kt=yt.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},$t=[],jt={props:["id"],methods:{deleteItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this section?")){t.next=4;break}return t.next=3,this.axios.delete("/sections/".concat(e));case 3:this.$store.dispatch("loadAllSections",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Ot=jt,Ct=Object(m["a"])(Ot,It,$t,!1,null,null,null);Ct.options.__file="DeleteButton.vue";var Et=Ct.exports,St=Q(xt),At=Q(kt),Rt=Q(Et),qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Index",type:"number"},model:{value:t.editedItem.index,callback:function(e){t.$set(t.editedItem,"index",e)},expression:"editedItem.index"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("form-select",{attrs:{value:t.editedItem.form_id,multiple:!1},on:{change:function(e){t.editedItem.form_id=e.id}}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},Nt=[],Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-select",t._b({attrs:{items:t.forms,"item-text":"name","item-value":"id"},on:{change:t.changeInner}},"v-select",t.currentProps,!1))},Tt=[],Dt={props:{label:{type:String,default:"Forms"},multiple:{type:Boolean,default:!1},"persistent-hint":{type:Boolean,default:!0},"return-object":{type:Boolean,default:!0},change:Function,value:{default:void 0},rules:Array},created:function(){this.$store.dispatch("loadAllForms")},computed:{forms:function(){return this.$store.state.form.forms},currentProps:function(){return this.$props}},methods:{changeInner:function(t){return this.change?this.change(t):this.$emit("change",t)}}},Ut=Dt,Ft=Object(m["a"])(Ut,Bt,Tt,!1,null,null,null);Ft.options.__file="FormSelect.vue";var Pt=Ft.exports,Gt={components:{"form-select":Pt},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit section":"New section"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/sections";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllSections",!0)}),this.close()}}},Mt=Gt,Qt=Object(m["a"])(Mt,qt,Nt,!1,null,null,null);Qt.options.__file="DialogSection.vue";var Lt=Qt.exports,Zt={components:{new:At,edit:St,delete:Rt},data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Description",value:"description",align:"center"},{text:"Form",value:"form_name",align:"center"},{text:"Index",value:"index",align:"center"},{text:"Akce",value:"action",align:"center"}]}},computed:{sections:function(){return this.$store.state.section.sections}},created:function(){this.$store.dispatch("loadAllSections")},watch:{},methods:{translate:function(t){var e=t.id,n=t.name,s=t.description;this.$router.push({path:"/translation",query:{defaults:[n,s],names:["section[".concat(e,"].name"),"section[".concat(e,"].description")]}})}}},zt=Zt,Jt=Object(m["a"])(zt,lt,ut,!1,null,null,null);Jt.options.__file="Section.vue";var Yt=Jt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Forms")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.sections,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.name))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:s.id}}),n("delete",{attrs:{id:s.id}}),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.translate(s)}}},[t._v("language")])],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},Wt=[],Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},Vt=[],Xt={methods:{editItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,n,s,r,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:0,n=this.$createElement,s={},!e){t.next=8;break}return t.next=6,this.axios.get("/forms/".concat(e));case 6:r=t.sent,s=r.data;case 8:this.$store.commit("setComponent",n(Ie,{attrs:{defaultItem:s,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},te={props:["id"],mixins:[Xt]},ee=te,ne=Object(m["a"])(ee,Kt,Vt,!1,null,null,null);ne.options.__file="EditButton.vue";var se=ne.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New form")])},ae=[],ie={mixins:[Xt]},oe=ie,ce=Object(m["a"])(oe,re,ae,!1,null,null,null);ce.options.__file="NewButton.vue";var le=ce.exports,ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},de=[],me={props:["id"],methods:{deleteItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this form?")){t.next=4;break}return t.next=3,this.axios.delete("/questions/".concat(e));case 3:this.$store.dispatch("loadAllQuestions",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},fe=me,ve=Object(m["a"])(fe,ue,de,!1,null,null,null);ve.options.__file="DeleteButton.vue";var pe=ve.exports,he=Q(se),xe=Q(le),_e=Q(pe),ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},be=[],we={props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit form":"New form"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/forms";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllForms",!0)}),this.close()}}},ye=we,ke=Object(m["a"])(ye,ge,be,!1,null,null,null);ke.options.__file="DialogForm.vue";var Ie=ke.exports,$e={components:{new:xe,edit:he,delete:_e},data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Action",value:"action",align:"center"}]}},computed:{sections:function(){return this.$store.state.form.forms}},created:function(){this.$store.dispatch("loadAllForms")},watch:{},methods:{translate:function(t){var e=t.id,n=t.name;this.$router.push({path:"/translation",query:{defaults:[n],names:["form[".concat(e,"].name")]}})}}},je=$e,Oe=Object(m["a"])(je,Ht,Wt,!1,null,null,null);Oe.options.__file="Form.vue";var Ce=Oe.exports,Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Questions")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.questions,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.text))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.section_name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.index))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:s.id}}),n("delete",{attrs:{id:s.id}}),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.translate(s)}}},[t._v("language")])],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},Se=[],Ae={components:{new:Z,edit:L,delete:z},data:function(){return{search:"",headers:[{text:"Question",value:"text",align:"center"},{text:"Section",value:"section_name",align:"center"},{text:"Index",value:"index",align:"center"},{text:"Actions",value:"action",align:"center"}]}},computed:{questions:function(){return this.$store.state.question.questions}},created:function(){this.$store.dispatch("loadAllQuestions")},watch:{},methods:{translate:function(t){var e=t.id,n=t.text;this.$router.push({path:"/translation",query:{defaults:[n],names:["question[".concat(e,"].text")]}})}}},Re=Ae,qe=Object(m["a"])(Re,Ee,Se,!1,null,null,null);qe.options.__file="Question.vue";var Ne=qe.exports,Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Translations")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("v-flex",{attrs:{xs12:"",sm5:""}})],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.rows,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),n("td",{staticClass:"text-xs-center"},[n("v-edit-dialog",{attrs:{lazy:""}},[t._v(" "+t._s(e.item.value)+" "),n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"}},[t._v("\n                  edit\n                ")]),n("v-text-field",{attrs:{slot:"input",label:"Edit",value:e.item.value,"single-line":"",counter:"counter"},on:{change:function(n){return t.save(e.item.langCode,e.item.name,n)}},slot:"input"})],1)],1),n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.langName))])])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},Te=[],De=(n("ac6a"),{data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Translation",value:"value",align:"center"},{text:"Language",value:"lang",align:"center"}],data:[]}},computed:{rows:function(){var t=this,e=[];return this.$store.state.language.languages.forEach(function(n){var s=Object(c["f"])(Object(c["b"])(Object(c["h"])("lang",n.iso_code)))(t.data);t.$route.query.names.forEach(function(r,a){e.push({langName:n.name,langCode:n.iso_code,name:r,value:Object(c["i"])(t.$route.query.defaults[a],"value",Object(c["c"])(Object(c["h"])("name",r),s))})})}),e}},created:function(){var t=this;this.axios.get("/translations",{params:{filter:{names:this.$route.query.names}}}).then(function(e){t.data=e.data}),this.$store.dispatch("loadAllLanguages")},watch:{},methods:{save:function(t,e,n){var s=this;this.axios.post("/translations",{value:n,name:e,lang:t}).then(function(t){s.axios.get("/translations",{params:{filter:{names:s.$route.query.names}}}).then(function(t){s.data=t.data})})}}}),Ue=De,Fe=Object(m["a"])(Ue,Be,Te,!1,null,null,null);Fe.options.__file="Translation.vue";var Pe=Fe.exports,Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Answers")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.answers,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.date))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.location))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.technician))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.customer))]),n("td",{staticClass:"justify-center layout px-0"},[n("detail-button",{attrs:{id:s.id}})],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},Me=[],Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},Le=[],Ze={methods:{editItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,n,s,r,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:0,n=this.$createElement,s={},!e){t.next=8;break}return t.next=6,this.axios.get("/sections/".concat(e));case 6:r=t.sent,s=r.data;case 8:this.$store.commit("setComponent",n(wn,{attrs:{defaultItem:s,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),detailItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,n,s,r,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:0,n=this.$createElement,t.next=4,this.axios.get("/answers/".concat(e,"/detail"));case 4:s=t.sent,r=s.data,this.$store.commit("setComponent",n(En,{attrs:{item:r}}));case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},ze={props:["id"],mixins:[Ze]},Je=ze,Ye=Object(m["a"])(Je,Qe,Le,!1,null,null,null);Ye.options.__file="EditButton.vue";var He=Ye.exports,We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New section")])},Ke=[],Ve={mixins:[Ze]},Xe=Ve,tn=Object(m["a"])(Xe,We,Ke,!1,null,null,null);tn.options.__file="NewButton.vue";var en=tn.exports,nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},sn=[],rn={props:["id"],methods:{deleteItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this section?")){t.next=4;break}return t.next=3,this.axios.delete("/sections/".concat(e));case 3:this.$store.dispatch("loadAllSections",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},an=rn,on=Object(m["a"])(an,nn,sn,!1,null,null,null);on.options.__file="DeleteButton.vue";var cn=on.exports,ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Detail"},on:{click:function(e){t.detailItem(t.id)}}},[t._v("\n  remove_red_eye\n")])},un=[],dn={props:["id"],mixins:[Ze]},mn=dn,fn=Object(m["a"])(mn,ln,un,!1,null,null,null);fn.options.__file="DetailButton.vue";var vn=fn.exports,pn=(Q(He),Q(en),Q(cn),Q(vn)),hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Index",type:"number"},model:{value:t.editedItem.index,callback:function(e){t.$set(t.editedItem,"index",e)},expression:"editedItem.index"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("form-select",{attrs:{value:t.editedItem.form_id,multiple:!1},on:{change:function(e){t.editedItem.form_id=e.id}}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},xn=[],_n={components:{"form-select":Pt},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit section":"New section"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/sections";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllSections",!0)}),this.close()}}},gn=_n,bn=Object(m["a"])(gn,hn,xn,!1,null,null,null);bn.options.__file="DialogSection.vue";var wn=bn.exports,yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Detail answer")])]),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Customer: "+t._s(t.item.customer))])],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Location: "+t._s(t.item.location))])],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Technician: "+t._s(t.item.technician))])],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Date: "+t._s(t._f("dateFormat")(t.item.date)))])],1)],1),n("v-expansion-panel",t._l(t.questions,function(e){return n("v-expansion-panel-content",{key:e.question_id,attrs:{"expand-icon":"Yes"===e.answer?"not":void 0}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs1:""}},[t._v("\n              "+t._s(e.section_index)+"."+t._s(e.question_index)+"\n            ")]),n("v-flex",{attrs:{xs9:""}},[t._v("\n              "+t._s(e.question_text)+"\n            ")]),n("v-flex",{attrs:{"offset-xs1":"",xs1:""}},[t._v("\n              "+t._s(e.answer)+"\n            ")])],1)],1),"No"===e.answer&&t.findings[e.question_id]?n("v-card",{staticClass:"grey lighten-3"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs5:""}},[t._v("\n              "+t._s(t.findings[e.question_id].root_cause)+" ")]),n("v-flex",{staticClass:"text-xs-center",attrs:{xs5:""}},[t._v("\n              "+t._s(t.findings[e.question_id].corrective_actions)+"\n            ")]),n("v-flex",{attrs:{xs2:""}},[t._v("\n              "+t._s(t._f("dateFormat")(t.findings[e.question_id].due_date))+"\n            ")])],1)],1):t._e()],1)})),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")])],1)],1)],1)},kn=[],In=n("a322"),$n=n("c93e"),jn={props:["item"],data:function(){return{}},computed:{questions:function(){return Object(c["j"])([Object(c["a"])(Object(c["g"])("section_index")),Object(c["a"])(Object(c["g"])("question_index"))],this.item.questions)},findings:function(){return this.item.findings.reduce(function(t,e){return Object($n["a"])({},t,Object(In["a"])({},e.question_id,e))},{})}},created:function(){},methods:{close:function(){console.log(this.findings),this.$store.commit("setComponent",null)}}},On=jn,Cn=(n("c27a"),Object(m["a"])(On,yn,kn,!1,null,"d70e2892",null));Cn.options.__file="DialogDetail.vue";var En=Cn.exports,Sn={components:{"detail-button":pn},data:function(){return{search:"",headers:[{text:"Date",value:"date",align:"center"},{text:"Location",value:"location",align:"center"},{text:"Technician",value:"technician",align:"center"},{text:"Customer",value:"customer",align:"center"},{text:"Akce",value:"action",align:"center"}]}},computed:{answers:function(){return this.$store.state.answer.answers}},created:function(){this.$store.dispatch("loadAllAnswers")},watch:{},methods:{}},An=Sn,Rn=Object(m["a"])(An,Ge,Me,!1,null,null,null);Rn.options.__file="Answer.vue";var qn=Rn.exports,Nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Users")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.users,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.login))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(t.groupsToString(s.gids)))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:s.id}})],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},Bn=[],Tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},Dn=[],Un={methods:{editItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,n,s,r,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:0,n=this.$createElement,s={},!e){t.next=8;break}return t.next=6,this.axios.get("/users/".concat(e));case 6:r=t.sent,s=r.data;case 8:this.$store.commit("setComponent",n(vs,{attrs:{defaultItem:s,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Fn={props:["id"],mixins:[Un]},Pn=Fn,Gn=Object(m["a"])(Pn,Tn,Dn,!1,null,null,null);Gn.options.__file="EditButton.vue";var Mn=Gn.exports,Qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New user")])},Ln=[],Zn={mixins:[Un]},zn=Zn,Jn=Object(m["a"])(zn,Qn,Ln,!1,null,null,null);Jn.options.__file="NewButton.vue";var Yn=Jn.exports,Hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Delete"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},Wn=[],Kn={props:["id"],methods:{deleteItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Opravdu chcete smazat tohoto zaměstnance?")){t.next=4;break}return t.next=3,this.axios.delete("/users/".concat(e));case 3:this.$store.dispatch("loadAllUsers",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Vn=Kn,Xn=Object(m["a"])(Vn,Hn,Wn,!1,null,null,null);Xn.options.__file="DeleteButton.vue";var ts=Xn.exports,es=Q(Mn),ns=Q(Yn),ss=(Q(ts),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Login"},model:{value:t.editedItem.login,callback:function(e){t.$set(t.editedItem,"login",e)},expression:"editedItem.login"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.editedItem.password,callback:function(e){t.$set(t.editedItem,"password",e)},expression:"editedItem.password"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("group-select",{attrs:{value:t.editedItem.gids,multiple:!0},on:{change:function(e){t.editedItem.gids=e}}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)}),rs=[],as=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-select",t._b({attrs:{items:t.groups,"item-text":"name","item-value":"id"},on:{change:t.changeInner}},"v-select",t.currentProps,!1))},is=[],os={props:{label:{type:String,default:"Groups"},multiple:{type:Boolean,default:!1},"persistent-hint":{type:Boolean,default:!0},"return-object":{type:Boolean,default:!1},change:Function,value:{default:void 0},rules:Array},created:function(){this.$store.dispatch("loadAllGroups")},computed:{groups:function(){return this.$store.state.group.groups},currentProps:function(){return this.$props}},methods:{changeInner:function(t){return this.change?this.change(t):this.$emit("change",t)}}},cs=os,ls=Object(m["a"])(cs,as,is,!1,null,null,null);ls.options.__file="GroupSelect.vue";var us=ls.exports,ds={components:{"group-select":us},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit user":"New user"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/users";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllUsers",!0)}),this.close()}}},ms=ds,fs=Object(m["a"])(ms,ss,rs,!1,null,null,null);fs.options.__file="DialogUser.vue";var vs=fs.exports,ps={components:{new:ns,edit:es},data:function(){return{search:"",headers:[{text:"Login",value:"login",align:"center"},{text:"Groups",value:"groups",align:"center"},{text:"Actions",value:"action",align:"center"}]}},computed:{transformGroups:function(){return this.$store.state.group.transformGroups},users:function(){return this.$store.state.user.users}},created:function(){this.$store.dispatch("loadAllUsers"),this.$store.dispatch("loadAllGroups")},watch:{},methods:{groupsToString:function(t){var e=this;return t.filter(function(t){return t}).map(function(t){return e.transformGroups[t]&&e.transformGroups[t].name}).join(", ")}}},hs=ps,xs=Object(m["a"])(hs,Nn,Bn,!1,null,null,null);xs.options.__file="User.vue";var _s=xs.exports,gs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Groups")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.groups,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.comment))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:s.id}})],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},bs=[],ws=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},ys=[],ks={methods:{editItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,n,s,r,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:0,n=this.$createElement,s={},!e){t.next=8;break}return t.next=6,this.axios.get("/groups/".concat(e));case 6:r=t.sent,s=r.data;case 8:this.$store.commit("setComponent",n(Js,{attrs:{defaultItem:s,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Is={props:["id"],mixins:[ks]},$s=Is,js=Object(m["a"])($s,ws,ys,!1,null,null,null);js.options.__file="EditButton.vue";var Os=js.exports,Cs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New group")])},Es=[],Ss={mixins:[ks]},As=Ss,Rs=Object(m["a"])(As,Cs,Es,!1,null,null,null);Rs.options.__file="NewButton.vue";var qs=Rs.exports,Ns=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},Bs=[],Ts={props:["id"],methods:{deleteItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this group?")){t.next=4;break}return t.next=3,this.axios.delete("/groups/".concat(e));case 3:this.$store.dispatch("loadAllGroups",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Ds=Ts,Us=Object(m["a"])(Ds,Ns,Bs,!1,null,null,null);Us.options.__file="DeleteButton.vue";var Fs=Us.exports,Ps=Q(Os),Gs=Q(qs),Ms=(Q(Fs),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm5:"",md4:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),n("v-flex",{attrs:{xs12:"",sm7:"",md8:""}},[n("v-textarea",{attrs:{label:"Comment"},model:{value:t.editedItem.comment,callback:function(e){t.$set(t.editedItem,"comment",e)},expression:"editedItem.comment"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)}),Qs=[],Ls={props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.defaultItem.name?"Edit group":"New group"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/groups";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllGroups",!0)}),this.close()}}},Zs=Ls,zs=Object(m["a"])(Zs,Ms,Qs,!1,null,null,null);zs.options.__file="DialogEdit.vue";var Js=zs.exports,Ys={components:{new:Gs,edit:Ps},data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Comment",value:"comment",align:"center"},{text:"Actions",value:"action",align:"center"}]}},computed:{groups:function(){return this.$store.state.group.groups}},created:function(){this.$store.dispatch("loadAllGroups")},watch:{},methods:{}},Hs=Ys,Ws=Object(m["a"])(Hs,gs,bs,!1,null,null,null);Ws.options.__file="Group.vue";var Ks=Ws.exports,Vs=n("4b58"),Xs=n("2f62"),tr=n("bc3a"),er=n.n(tr);er.a.defaults.baseURL="".concat(location.protocol,"//").concat(location.hostname).concat(""),er.a.defaults.headers.common["Authorization"]="Bearer ".concat(localStorage.basicToken);var nr=er.a,sr={state:{users:[],currentUser:{}},getters:{getCurrentUser:function(t){return function(){return t.currentUser}}},mutations:{setCurrentUser:function(t,e){t.currentUser=e}},actions:{loginUserByToken:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,t.next=3,nr.post("/permissions");case 3:s=t.sent,s.data.status?n.currentUser=s.data:localStorage.basicToken="";case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),loadAllUsers:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var n,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=r.length>1&&void 0!==r[1]&&r[1],(s||0===n.users.length)&&nr.get("/users").then(function(t){n.users=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),login:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e,n){var s,r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,r=n.username,a=n.password,t.next=4,nr.post("/users/login",{username:r,password:a});case 4:return i=t.sent,t.t0=s,t.next=8,i.data();case 8:t.t1=t.sent,(0,t.t0)("setJWT",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}},rr={state:{questions:[]},getters:{},mutations:{},actions:{loadAllQuestions:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var n,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=r.length>1&&void 0!==r[1]&&r[1],(s||0===n.questions.length)&&nr.get("/questions").then(function(t){n.questions=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},ar={state:{sections:[]},getters:{getSectionById:function(t){return function(e){return Object(c["c"])(Object(c["h"])("id",e),t.sections)}}},mutations:{},actions:{loadAllSections:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var n,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=r.length>1&&void 0!==r[1]&&r[1],(s||0===n.sections.length)&&nr.get("/sections").then(function(t){n.sections=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},ir={state:{forms:[]},getters:{getFormById:function(t){return function(e){return Object(c["c"])(Object(c["h"])("id",e),t.forms)}}},mutations:{},actions:{loadAllForms:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var n,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=r.length>1&&void 0!==r[1]&&r[1],(s||0===n.forms.length)&&nr.get("/forms").then(function(t){n.forms=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},or={state:{languages:[]},getters:{},actions:{loadAllLanguages:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var n,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=r.length>1&&void 0!==r[1]&&r[1],(s||0===n.languages.length)&&nr.get("/languages").then(function(t){n.languages=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},cr={state:{answers:[]},getters:{},mutations:{},actions:{loadAllAnswers:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var n,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=r.length>1&&void 0!==r[1]&&r[1],(s||0===n.answers.length)&&nr.get("/answers").then(function(t){n.answers=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},lr={state:{groups:[],transformGroups:[]},getters:{},mutations:{},actions:{loadAllGroups:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var n,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=r.length>1&&void 0!==r[1]&&r[1],(s||0===n.groups.length)&&nr.get("/groups").then(function(t){n.groups=t.data,n.transformGroups=t.data.reduce(function(t,e){return Object($n["a"])({},t,Object(In["a"])({},e.id,e))},{})});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},ur={user:sr,question:rr,section:ar,form:ir,language:or,answer:cr,group:lr};s["default"].use(Xs["a"]);var dr=new Xs["a"].Store({modules:ur,state:{mainModal:null,component:null},mutations:{setMainModal:function(t,e){t.mainModal=e},setComponent:function(t,e){t.component=e}},actions:{}}),mr=function(){return Vs["b"].define(function(t){var e=dr.getters.getCurrentUser();e&&e.permissions?(t("page",["backend","admin"]),e.permissions.forEach(function(e){t(e[0],e[1])})):localStorage.basicToken&&nr.post("/permissions").then(function(e){if(e.data.status){t("page",["backend","admin"]),dr.state.user.currentUser=e.data;var n=dr.getters.getCurrentUser();n&&n.permissions&&n.permissions.forEach(function(e){t(e[0],e[1])})}else localStorage.basicToken=""})})},fr=function(t,e,n){var s=mr(),r=Object(c["e"])(["meta","permission"],t);if(r&&s.cannot(r[0],r[1])){var a=Object(c["e"])(["meta","redirect"],t),i=Object(c["c"])(Object(c["h"])("actions","page"),s.rules);return a?n(a):i?(alert("Nemáte dostatečná oprávnění"),n("/")):(location.href="/login",n("/login"))}return n()};s["default"].use(p["a"]);var vr=new p["a"]({mode:"history",base:"/admin",routes:[{path:"/home",name:"home",component:ct,beforeEnter:fr,meta:{permission:["page","backend"]}},{path:"/",name:"question",component:Ne,beforeEnter:fr,meta:{permission:["page","backend"]}},{path:"/sections",name:"section",component:Yt,beforeEnter:fr,meta:{permission:["page","backend"]}},{path:"/forms",name:"form",component:Ce,beforeEnter:fr,meta:{permission:["page","backend"]}},{path:"/translation",name:"translation",component:Pe,beforeEnter:fr,meta:{permission:["page","backend"]}},{path:"/answers",name:"answers",component:qn,beforeEnter:fr,meta:{permission:["page","backend"]}},{path:"/users",name:"users",component:_s},{path:"/groups",name:"Groups",component:Ks},{path:"/fe/logout",name:"logout",beforeEnter:function(t,e,n){localStorage.basicToken="",location.href="/"}}]}),pr=n("9483");Object(pr["a"])("".concat("/admin-dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var hr=n("a7fe"),xr=n.n(hr),_r=n("340b"),gr=n("2b52");s["default"].config.productionTip=!1,s["default"].filter("dateFormat",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD. MM. YYYY";return t?Object(_r["format"])(t,e):""}),s["default"].filter("employeeName",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?"".concat(t.degree," ").concat(t.firstName," ").concat(t.lastName):e}),s["default"].mixin({methods:{toJson:function(t){try{return JSON.parse(t)}catch(e){return t}}}}),s["default"].use(xr.a,nr),dr.dispatch("loginUserByToken").finally(function(){var t=mr();s["default"].use(gr["a"],t),new s["default"]({router:vr,store:dr,render:function(t){return t(v)}}).$mount("#app")})},"7d27":function(t,e,n){},c27a:function(t,e,n){"use strict";var s=n("7d27"),r=n.n(s);r.a}});
//# sourceMappingURL=app.de4316c9.js.map