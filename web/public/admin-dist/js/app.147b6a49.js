(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],s[i]&&m.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/admin-dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),s=n("ce5b"),r=n.n(s);n("bf40");a["default"].use(r.a,{});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},["login"==t.$route.name?n("v-content",[n("router-view")],1):[n("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[t._l(t.itemsByPermissions,function(e){return[e.heading?n("v-layout",{key:e.heading,attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs6:""}},[e.heading?n("v-subheader",[t._v("\n                "+t._s(e.heading)+"\n              ")]):t._e()],1),n("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[n("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[t._v("EDIT")])])],1):e.children?n("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},model:{value:e.model,callback:function(n){t.$set(e,"model",n)},expression:"item.model"}},[n("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                  "+t._s(e.text)+"\n                ")])],1)],1),t._l(e.children,function(e,a){return n("router-link",{key:a,attrs:{tag:"v-list-tile",to:e.path}},[e.icon?n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1):t._e(),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                  "+t._s(e.text)+"\n                ")])],1)],1)})],2):n("router-link",{key:e.text,attrs:{tag:"v-list-tile",to:e.path}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                "+t._s(e.text)+"\n              ")])],1)],1)]})],2)],1),n("v-toolbar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,color:"blue darken-3",dark:"",app:"",fixed:""}},[n("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("router-link",{staticStyle:{cursor:"pointer"},attrs:{tag:"span",to:"/"}},[t._v("\n          Název aplikace\n        ")])],1),n("v-spacer")],1),n("v-content",[n("router-view")],1)],n(t.mainModal,{tag:"component",attrs:{myData:t.mainModalData}}),n("render-component",{attrs:{component:t.getComponent}})],2)},o=[],c=n("b17e"),l={props:["component"],functional:!0,render:function(t,e){var n=e.props;return n.component}},u={components:{"render-component":l},data:function(){return{dialog:!1,drawer:!1,items:[{icon:"tablet_android",text:"Forms",path:"/forms",auth:["page","backend"]},{icon:"tablet_android",text:"Sections",path:"/sections",auth:["page","backend"]},{icon:"tablet_android",text:"Questions",path:"/",auth:["page","backend"]},{icon:"tablet_android",text:"Answers",path:"/answers",auth:["page","backend"]},{icon:"tablet_android",text:"Users",path:"/users",auth:["page","admin"]},{icon:"power_settings_new",text:"Log out",path:"/fe/logout"}]}},computed:{mainModal:function(){return this.$store.state.mainModal},getComponent:function(){return this.$store.state.component},mainModalData:function(){return this.$store.state.mainModal?this.$store.state.mainModal.myData:null},itemsByPermissions:function(){var t=this,e=this.items;return Object(c["b"])(function(e){var n=e.auth;return!n||t.$ability.can(n[0],n[1])},e)}},created:function(){}},d=u,m=n("2877"),f=Object(m["a"])(d,i,o,!1,null,null,null);f.options.__file="App.vue";var v=f.exports,p=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[n("h1",[t._v("Přihlášení")])]),n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":"","mt-3":""}},[n("v-form",{ref:"form"},[n("v-layout",{attrs:{column:""}},[n("v-flex",[n("v-text-field",{attrs:{rules:t.inputRequired,label:"Uživatelské jméno",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),n("v-flex",[n("v-text-field",{attrs:{rules:t.inputRequired,label:"Heslo",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-flex",{staticClass:"text-xs-center",attrs:{"mt-5":""}},[n("v-btn",{attrs:{color:"primary"},on:{click:t.login}},[t._v("Přihlásit se")])],1)],1)],1)],1)],1)],1)},x=[],g=(n("96cf"),n("3040")),_={data:function(){return{inputRequired:[function(t){return!!t||"Povinné pole"}],username:"",password:""}},computed:{},created:function(){},watch:{},methods:{login:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.form.validate()){t.next=12;break}return t.prev=1,t.next=4,this.axios.post("/login",{username:this.username,password:this.password});case 4:e=t.sent,localStorage.basicToken=e.data.basicToken,location.href="/",t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),alert("Nepovedené přihlášení");case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}()}},b=_,w=Object(m["a"])(b,h,x,!1,null,null,null);w.options.__file="Login.vue";w.exports;var y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Questions")]),n("v-card",[n("v-card-text",[n("div",{attrs:{xs12:"",color:"white"}},[n("new")],1),n("v-data-table",{staticClass:"elevation-3",attrs:{search:t.search,headers:t.headers,items:t.questions,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var a=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.text))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:a.id}}),n("delete",{attrs:{id:a.id}})],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},k=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},$=[],j={methods:{editItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,a={},!e){t.next=8;break}return t.next=6,this.axios.get("/questions/".concat(e));case 6:s=t.sent,a=s.data;case 8:this.$store.commit("setComponent",n(ut,{attrs:{defaultItem:a,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},O={props:["id"],mixins:[j]},C=O,E=Object(m["a"])(C,I,$,!1,null,null,null);E.options.__file="EditButton.vue";var S=E.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New question")])},R=[],q={mixins:[j]},N=q,B=Object(m["a"])(N,A,R,!1,null,null,null);B.options.__file="NewButton.vue";var D=B.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},U=[],F={props:["id"],methods:{deleteItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this question?")){t.next=4;break}return t.next=3,this.axios.delete("/questions/".concat(e));case 3:this.$store.dispatch("loadAllQuestions",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},auth:function(t){return t.can("DeleteButton","Question")}},P=F,G=Object(m["a"])(P,T,U,!1,null,null,null);G.options.__file="DeleteButton.vue";var M=G.exports,Q=function(t){return{functional:!0,render:function(e,n){var a=Object(c["e"])(["parent","$ability"],n);return a&&(!t.auth||t.auth&&t.auth(a))?e(t,n):null}}},L=Q(S),Z=Q(D),z=Q(M),Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("section-select",{attrs:{value:t.editedItem.section_id,multiple:!1},on:{change:function(e){t.editedItem.section_id=e.id}}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Index",type:"number"},model:{value:t.editedItem.index,callback:function(e){t.$set(t.editedItem,"index",e)},expression:"editedItem.index"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{staticClass:"uploadImg",attrs:{label:"Select Image","prepend-icon":"attach_file"},on:{click:t.pickFile}}),n("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}}),t.editedItem.id?n("my-img",{attrs:{id:t.editedItem.id,width:"20%"}}):t._e()],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:"Question"},model:{value:t.editedItem.text,callback:function(e){t.$set(t.editedItem,"text",e)},expression:"editedItem.text"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},J=[],H=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-select",t._b({attrs:{items:t.sections,"item-text":"name","item-value":"id"},on:{change:t.changeInner}},"v-select",t.currentProps,!1))}),W=[],K={props:{label:{type:String,default:"Sections"},multiple:{type:Boolean,default:!1},"persistent-hint":{type:Boolean,default:!0},"return-object":{type:Boolean,default:!0},change:Function,value:{default:void 0},rules:Array},created:function(){this.$store.dispatch("loadAllSections")},computed:{sections:function(){return this.$store.state.section.sections},currentProps:function(){return this.$props}},methods:{changeInner:function(t){return this.change?this.change(t):this.$emit("change",t)}}},V=K,X=Object(m["a"])(V,H,W,!1,null,null,null);X.options.__file="SectionSelect.vue";var tt=X.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("a",{on:{click:function(e){t.openImg=t.id}}},[n("v-img",{attrs:{height:t.height,width:t.width,src:t._f("getImgUrl")(t.id)}})],1),t.openImg==t.id?n("a",{staticClass:"lightbox",on:{click:function(e){t.openImg=null}}},[n("img",{attrs:{src:t._f("getImgUrl")(t.id)}})]):t._e()])},nt=[],at={props:{id:{default:void 0},height:{default:60},width:{default:60}},data:function(){return{openImg:null}}},st=at,rt=(n("f713"),Object(m["a"])(st,et,nt,!1,null,"db5e5f86",null));rt.options.__file="MyImg.vue";var it=rt.exports,ot={components:{"section-select":tt,"my-img":it},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit question":"New question"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/questions";this.id>0&&(e+="/"+this.id);var n=new FormData;Object(c["d"])(function(t,e){n.append(e,t)},this.editedItem),this.axios.post(e,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t.$store.dispatch("loadAllQuestions",!0)}),this.close()},onFilePicked:function(t){this.editedItem.img=t.target.files[0]},pickFile:function(){this.$refs.image.click()}}},ct=ot,lt=(n("e5df"),Object(m["a"])(ct,Y,J,!1,null,null,null));lt.options.__file="DialogQuestion.vue";var ut=lt.exports,dt={components:{new:Z,edit:L,delete:z},data:function(){return{search:"",headers:[{text:"Znění otázky",value:"text",align:"center"},{text:"Akce",value:"action",align:"center"}]}},computed:{questions:function(){return this.$store.state.question.questions}},created:function(){this.$store.dispatch("loadAllQuestions")},watch:{},methods:{}},mt=dt,ft=Object(m["a"])(mt,y,k,!1,null,null,null);ft.options.__file="Home.vue";var vt=ft.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Sections")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.sections,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var a=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.description))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.form_name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.index))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:a.id}}),n("delete",{attrs:{id:a.id}}),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.translate(a)}}},[t._v("language")])],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},ht=[],xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},gt=[],_t={methods:{editItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,a={},!e){t.next=8;break}return t.next=6,this.axios.get("/sections/".concat(e));case 6:s=t.sent,a=s.data;case 8:this.$store.commit("setComponent",n(Wt,{attrs:{defaultItem:a,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},bt={props:["id"],mixins:[_t]},wt=bt,yt=Object(m["a"])(wt,xt,gt,!1,null,null,null);yt.options.__file="EditButton.vue";var kt=yt.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New section")])},$t=[],jt={mixins:[_t]},Ot=jt,Ct=Object(m["a"])(Ot,It,$t,!1,null,null,null);Ct.options.__file="NewButton.vue";var Et=Ct.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},At=[],Rt={props:["id"],methods:{deleteItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this section?")){t.next=4;break}return t.next=3,this.axios.delete("/sections/".concat(e));case 3:this.$store.dispatch("loadAllSections",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},auth:function(t){return t.can("DeleteButton","Section")}},qt=Rt,Nt=Object(m["a"])(qt,St,At,!1,null,null,null);Nt.options.__file="DeleteButton.vue";var Bt=Nt.exports,Dt=Q(kt),Tt=Q(Et),Ut=Q(Bt),Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Index",type:"number"},model:{value:t.editedItem.index,callback:function(e){t.$set(t.editedItem,"index",e)},expression:"editedItem.index"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("form-select",{attrs:{value:t.editedItem.form_id,multiple:!1},on:{change:function(e){t.editedItem.form_id=e.id}}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},Pt=[],Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-select",t._b({attrs:{items:t.forms,"item-text":"name","item-value":"id"},on:{change:t.changeInner}},"v-select",t.currentProps,!1))},Mt=[],Qt={props:{label:{type:String,default:"Forms"},multiple:{type:Boolean,default:!1},"persistent-hint":{type:Boolean,default:!0},"return-object":{type:Boolean,default:!0},change:Function,value:{default:void 0},rules:Array},created:function(){this.$store.dispatch("loadAllForms")},computed:{forms:function(){return this.$store.state.form.forms},currentProps:function(){return this.$props}},methods:{changeInner:function(t){return this.change?this.change(t):this.$emit("change",t)}}},Lt=Qt,Zt=Object(m["a"])(Lt,Gt,Mt,!1,null,null,null);Zt.options.__file="FormSelect.vue";var zt=Zt.exports,Yt={components:{"form-select":zt},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit section":"New section"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/sections";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllSections",!0)}),this.close()}}},Jt=Yt,Ht=Object(m["a"])(Jt,Ft,Pt,!1,null,null,null);Ht.options.__file="DialogSection.vue";var Wt=Ht.exports,Kt={components:{new:Tt,edit:Dt,delete:Ut},data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Description",value:"description",align:"center"},{text:"Form",value:"form_name",align:"center"},{text:"Index",value:"index",align:"center"},{text:"Akce",value:"action",align:"center"}]}},computed:{sections:function(){return this.$store.state.section.sections}},created:function(){this.$store.dispatch("loadAllSections")},watch:{},methods:{translate:function(t){var e=t.id,n=t.name,a=t.description;this.$router.push({path:"/translation",query:{defaults:[n,a],names:["section[".concat(e,"].name"),"section[".concat(e,"].description")]}})}}},Vt=Kt,Xt=Object(m["a"])(Vt,pt,ht,!1,null,null,null);Xt.options.__file="Section.vue";var te=Xt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Forms")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.sections,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var a=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.name))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:a.id}}),n("delete",{attrs:{id:a.id}}),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.translate(a)}}},[t._v("language")])],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},ne=[],ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},se=[],re={methods:{editItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,a={},!e){t.next=8;break}return t.next=6,this.axios.get("/forms/".concat(e));case 6:s=t.sent,a=s.data;case 8:this.$store.commit("setComponent",n(Se,{attrs:{defaultItem:a,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},ie={props:["id"],mixins:[re]},oe=ie,ce=Object(m["a"])(oe,ae,se,!1,null,null,null);ce.options.__file="EditButton.vue";var le=ce.exports,ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New form")])},de=[],me={mixins:[re]},fe=me,ve=Object(m["a"])(fe,ue,de,!1,null,null,null);ve.options.__file="NewButton.vue";var pe=ve.exports,he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},xe=[],ge={props:["id"],methods:{deleteItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this form?")){t.next=4;break}return t.next=3,this.axios.delete("/questions/".concat(e));case 3:this.$store.dispatch("loadAllQuestions",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},auth:function(t){return t.can("DeleteButton","Form")}},_e=ge,be=Object(m["a"])(_e,he,xe,!1,null,null,null);be.options.__file="DeleteButton.vue";var we=be.exports,ye=Q(le),ke=Q(pe),Ie=Q(we),$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},je=[],Oe={props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit form":"New form"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/forms";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllForms",!0)}),this.close()}}},Ce=Oe,Ee=Object(m["a"])(Ce,$e,je,!1,null,null,null);Ee.options.__file="DialogForm.vue";var Se=Ee.exports,Ae={components:{new:ke,edit:ye,delete:Ie},data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Action",value:"action",align:"center"}]}},computed:{sections:function(){return this.$store.state.form.forms}},created:function(){this.$store.dispatch("loadAllForms")},watch:{},methods:{translate:function(t){var e=t.id,n=t.name;this.$router.push({path:"/translation",query:{defaults:[n],names:["form[".concat(e,"].name")]}})}}},Re=Ae,qe=Object(m["a"])(Re,ee,ne,!1,null,null,null);qe.options.__file="Form.vue";var Ne=qe.exports,Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Questions")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.questions,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var a=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.text))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.section_name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.index))]),n("td",{staticClass:"text-xs-center"},[n("my-img",{attrs:{id:a.id}})],1),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:a.id}}),n("delete",{attrs:{id:a.id}}),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.translate(a)}}},[t._v("language")])],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},De=[],Te={components:{new:Z,edit:L,delete:z,"my-img":it},data:function(){return{search:"",headers:[{text:"Question",value:"text",align:"center"},{text:"Section",value:"section_name",align:"center"},{text:"Index",value:"index",align:"center"},{text:"Image",value:"img",align:"center"},{text:"Actions",value:"action",align:"center"}]}},computed:{questions:function(){return this.$store.state.question.questions}},created:function(){this.$store.dispatch("loadAllQuestions")},watch:{},methods:{translate:function(t){var e=t.id,n=t.text;this.$router.push({path:"/translation",query:{defaults:[n],names:["question[".concat(e,"].text")]}})}}},Ue=Te,Fe=Object(m["a"])(Ue,Be,De,!1,null,null,null);Fe.options.__file="Question.vue";var Pe=Fe.exports,Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Translations")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("v-flex",{attrs:{xs12:"",sm5:""}})],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.rows,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),n("td",{staticClass:"text-xs-center"},[n("v-edit-dialog",{attrs:{lazy:""}},[t._v(" "+t._s(e.item.value)+" "),n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"}},[t._v("\n                  edit\n                ")]),n("v-text-field",{attrs:{slot:"input",label:"Edit",value:e.item.value,"single-line":"",counter:"counter"},on:{change:function(n){return t.save(e.item.langCode,e.item.name,n)}},slot:"input"})],1)],1),n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.langName))])])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},Me=[],Qe=(n("ac6a"),{data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Translation",value:"value",align:"center"},{text:"Language",value:"lang",align:"center"}],data:[]}},computed:{rows:function(){var t=this,e=[];return this.$store.state.language.languages.forEach(function(n){var a=Object(c["f"])(Object(c["b"])(Object(c["h"])("lang",n.iso_code)))(t.data);t.$route.query.names.forEach(function(s,r){e.push({langName:n.name,langCode:n.iso_code,name:s,value:Object(c["i"])(t.$route.query.defaults[r],"value",Object(c["c"])(Object(c["h"])("name",s),a))})})}),e}},created:function(){var t=this;this.axios.get("/translations",{params:{filter:{names:this.$route.query.names}}}).then(function(e){t.data=e.data}),this.$store.dispatch("loadAllLanguages")},watch:{},methods:{save:function(t,e,n){var a=this;this.axios.post("/translations",{value:n,name:e,lang:t}).then(function(t){a.axios.get("/translations",{params:{filter:{names:a.$route.query.names}}}).then(function(t){a.data=t.data})})}}}),Le=Qe,Ze=Object(m["a"])(Le,Ge,Me,!1,null,null,null);Ze.options.__file="Translation.vue";var ze=Ze.exports,Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Answers")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.answers,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var a=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.date))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.location))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.technician))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.customer))]),n("td",{staticClass:"justify-center layout px-0"},[n("detail-button",{attrs:{id:a.id}})],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},Je=[],He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},We=[],Ke={methods:{editItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,a={},!e){t.next=8;break}return t.next=6,this.axios.get("/sections/".concat(e));case 6:s=t.sent,a=s.data;case 8:this.$store.commit("setComponent",n(On,{attrs:{defaultItem:a,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),detailItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,t.next=4,this.axios.get("/answers/".concat(e,"/detail"));case 4:a=t.sent,s=a.data,this.$store.commit("setComponent",n(Bn,{attrs:{item:s}}));case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Ve={props:["id"],mixins:[Ke]},Xe=Ve,tn=Object(m["a"])(Xe,He,We,!1,null,null,null);tn.options.__file="EditButton.vue";var en=tn.exports,nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New section")])},an=[],sn={mixins:[Ke]},rn=sn,on=Object(m["a"])(rn,nn,an,!1,null,null,null);on.options.__file="NewButton.vue";var cn=on.exports,ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},un=[],dn={props:["id"],methods:{deleteItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this section?")){t.next=4;break}return t.next=3,this.axios.delete("/sections/".concat(e));case 3:this.$store.dispatch("loadAllSections",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},mn=dn,fn=Object(m["a"])(mn,ln,un,!1,null,null,null);fn.options.__file="DeleteButton.vue";var vn=fn.exports,pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Detail"},on:{click:function(e){t.detailItem(t.id)}}},[t._v("\n  remove_red_eye\n")])},hn=[],xn={props:["id"],mixins:[Ke]},gn=xn,_n=Object(m["a"])(gn,pn,hn,!1,null,null,null);_n.options.__file="DetailButton.vue";var bn=_n.exports,wn=(Q(en),Q(cn),Q(vn),Q(bn)),yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Index",type:"number"},model:{value:t.editedItem.index,callback:function(e){t.$set(t.editedItem,"index",e)},expression:"editedItem.index"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("form-select",{attrs:{value:t.editedItem.form_id,multiple:!1},on:{change:function(e){t.editedItem.form_id=e.id}}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},kn=[],In={components:{"form-select":zt},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit section":"New section"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/sections";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllSections",!0)}),this.close()}}},$n=In,jn=Object(m["a"])($n,yn,kn,!1,null,null,null);jn.options.__file="DialogSection.vue";var On=jn.exports,Cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Detail answer")])]),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Customer: "+t._s(t.item.customer))])],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Location: "+t._s(t.item.location))])],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Technician: "+t._s(t.item.technician))])],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Date: "+t._s(t._f("dateFormat")(t.item.date)))])],1)],1),n("v-expansion-panel",t._l(t.questions,function(e){return n("v-expansion-panel-content",{key:e.question_id,attrs:{"expand-icon":"Yes"===e.answer?"not":void 0}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs1:""}},[t._v("\n              "+t._s(e.section_index)+"."+t._s(e.question_index)+"\n            ")]),n("v-flex",{attrs:{xs9:""}},[t._v("\n              "+t._s(e.question_text)+"\n            ")]),n("v-flex",{attrs:{"offset-xs1":"",xs1:""}},[t._v("\n              "+t._s(e.answer)+"\n            ")])],1)],1),"No"===e.answer&&t.findings[e.question_id]?n("v-card",{staticClass:"grey lighten-3"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs5:""}},[t._v("\n              "+t._s(t.findings[e.question_id].root_cause)+" ")]),n("v-flex",{staticClass:"text-xs-center",attrs:{xs5:""}},[t._v("\n              "+t._s(t.findings[e.question_id].corrective_actions)+"\n            ")]),n("v-flex",{attrs:{xs2:""}},[t._v("\n              "+t._s(t._f("dateFormat")(t.findings[e.question_id].due_date))+"\n            ")])],1)],1):t._e()],1)})),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")])],1)],1)],1)},En=[],Sn=n("a322"),An=n("c93e"),Rn={props:["item"],data:function(){return{}},computed:{questions:function(){return Object(c["j"])([Object(c["a"])(Object(c["g"])("section_index")),Object(c["a"])(Object(c["g"])("question_index"))],this.item.questions)},findings:function(){return this.item.findings.reduce(function(t,e){return Object(An["a"])({},t,Object(Sn["a"])({},e.question_id,e))},{})}},created:function(){},methods:{close:function(){console.log(this.findings),this.$store.commit("setComponent",null)}}},qn=Rn,Nn=(n("c27a"),Object(m["a"])(qn,Cn,En,!1,null,"d70e2892",null));Nn.options.__file="DialogDetail.vue";var Bn=Nn.exports,Dn={components:{"detail-button":wn},data:function(){return{search:"",headers:[{text:"Date",value:"date",align:"center"},{text:"Location",value:"location",align:"center"},{text:"Technician",value:"technician",align:"center"},{text:"Customer",value:"customer",align:"center"},{text:"Akce",value:"action",align:"center"}]}},computed:{answers:function(){return this.$store.state.answer.answers}},created:function(){this.$store.dispatch("loadAllAnswers")},watch:{},methods:{}},Tn=Dn,Un=Object(m["a"])(Tn,Ye,Je,!1,null,null,null);Un.options.__file="Answer.vue";var Fn=Un.exports,Pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Users")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.users,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var a=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.login))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(t.groupsToString(a.gids)))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:a.id}})],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},Gn=[],Mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},Qn=[],Ln={methods:{editItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,a={},!e){t.next=8;break}return t.next=6,this.axios.get("/users/".concat(e));case 6:s=t.sent,a=s.data;case 8:this.$store.commit("setComponent",n(ba,{attrs:{defaultItem:a,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Zn={props:["id"],mixins:[Ln]},zn=Zn,Yn=Object(m["a"])(zn,Mn,Qn,!1,null,null,null);Yn.options.__file="EditButton.vue";var Jn=Yn.exports,Hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New user")])},Wn=[],Kn={mixins:[Ln]},Vn=Kn,Xn=Object(m["a"])(Vn,Hn,Wn,!1,null,null,null);Xn.options.__file="NewButton.vue";var ta=Xn.exports,ea=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Delete"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},na=[],aa={props:["id"],methods:{deleteItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Opravdu chcete smazat tohoto zaměstnance?")){t.next=4;break}return t.next=3,this.axios.delete("/users/".concat(e));case 3:this.$store.dispatch("loadAllUsers",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},sa=aa,ra=Object(m["a"])(sa,ea,na,!1,null,null,null);ra.options.__file="DeleteButton.vue";var ia=ra.exports,oa=Q(Jn),ca=Q(ta),la=(Q(ia),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Login"},model:{value:t.editedItem.login,callback:function(e){t.$set(t.editedItem,"login",e)},expression:"editedItem.login"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.editedItem.password,callback:function(e){t.$set(t.editedItem,"password",e)},expression:"editedItem.password"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("group-select",{attrs:{value:t.editedItem.gids,multiple:!0},on:{change:function(e){t.editedItem.gids=e}}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)}),ua=[],da=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-select",t._b({attrs:{items:t.groups,"item-text":"name","item-value":"id"},on:{change:t.changeInner}},"v-select",t.currentProps,!1))},ma=[],fa={props:{label:{type:String,default:"Groups"},multiple:{type:Boolean,default:!1},"persistent-hint":{type:Boolean,default:!0},"return-object":{type:Boolean,default:!1},change:Function,value:{default:void 0},rules:Array},created:function(){this.$store.dispatch("loadAllGroups")},computed:{groups:function(){return this.$store.state.group.groups},currentProps:function(){return this.$props}},methods:{changeInner:function(t){return this.change?this.change(t):this.$emit("change",t)}}},va=fa,pa=Object(m["a"])(va,da,ma,!1,null,null,null);pa.options.__file="GroupSelect.vue";var ha=pa.exports,xa={components:{"group-select":ha},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit user":"New user"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/users";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllUsers",!0)}),this.close()}}},ga=xa,_a=Object(m["a"])(ga,la,ua,!1,null,null,null);_a.options.__file="DialogUser.vue";var ba=_a.exports,wa={components:{new:ca,edit:oa},data:function(){return{search:"",headers:[{text:"Login",value:"login",align:"center"},{text:"Groups",value:"groups",align:"center"},{text:"Actions",value:"action",align:"center"}]}},computed:{transformGroups:function(){return this.$store.state.group.transformGroups},users:function(){return this.$store.state.user.users}},created:function(){this.$store.dispatch("loadAllUsers"),this.$store.dispatch("loadAllGroups")},watch:{},methods:{groupsToString:function(t){var e=this;return t.filter(function(t){return t}).map(function(t){return e.transformGroups[t]&&e.transformGroups[t].name}).join(", ")}}},ya=wa,ka=Object(m["a"])(ya,Pn,Gn,!1,null,null,null);ka.options.__file="User.vue";var Ia=ka.exports,$a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Groups")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.groups,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var a=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(a.comment))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:a.id}})],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},ja=[],Oa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},Ca=[],Ea={methods:{editItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,a={},!e){t.next=8;break}return t.next=6,this.axios.get("/groups/".concat(e));case 6:s=t.sent,a=s.data;case 8:this.$store.commit("setComponent",n(Xa,{attrs:{defaultItem:a,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Sa={props:["id"],mixins:[Ea]},Aa=Sa,Ra=Object(m["a"])(Aa,Oa,Ca,!1,null,null,null);Ra.options.__file="EditButton.vue";var qa=Ra.exports,Na=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New group")])},Ba=[],Da={mixins:[Ea]},Ta=Da,Ua=Object(m["a"])(Ta,Na,Ba,!1,null,null,null);Ua.options.__file="NewButton.vue";var Fa=Ua.exports,Pa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},Ga=[],Ma={props:["id"],methods:{deleteItem:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this group?")){t.next=4;break}return t.next=3,this.axios.delete("/groups/".concat(e));case 3:this.$store.dispatch("loadAllGroups",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Qa=Ma,La=Object(m["a"])(Qa,Pa,Ga,!1,null,null,null);La.options.__file="DeleteButton.vue";var Za=La.exports,za=Q(qa),Ya=Q(Fa),Ja=(Q(Za),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm5:"",md4:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),n("v-flex",{attrs:{xs12:"",sm7:"",md8:""}},[n("v-textarea",{attrs:{label:"Comment"},model:{value:t.editedItem.comment,callback:function(e){t.$set(t.editedItem,"comment",e)},expression:"editedItem.comment"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)}),Ha=[],Wa={props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.defaultItem.name?"Edit group":"New group"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/groups";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllGroups",!0)}),this.close()}}},Ka=Wa,Va=Object(m["a"])(Ka,Ja,Ha,!1,null,null,null);Va.options.__file="DialogEdit.vue";var Xa=Va.exports,ts={components:{new:Ya,edit:za},data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Comment",value:"comment",align:"center"},{text:"Actions",value:"action",align:"center"}]}},computed:{groups:function(){return this.$store.state.group.groups}},created:function(){this.$store.dispatch("loadAllGroups")},watch:{},methods:{}},es=ts,ns=Object(m["a"])(es,$a,ja,!1,null,null,null);ns.options.__file="Group.vue";var as=ns.exports,ss=n("4b58"),rs=n("2f62"),is=n("bc3a"),os=n.n(is);os.a.defaults.baseURL="".concat(location.protocol,"//").concat(location.hostname).concat(""),os.a.defaults.headers.common["Authorization"]="Bearer ".concat(localStorage.basicToken);var cs=os.a,ls={state:{users:[],currentUser:{}},getters:{getCurrentUser:function(t){return function(){return t.currentUser}}},mutations:{setCurrentUser:function(t,e){t.currentUser=e}},actions:{loginUserByToken:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,t.next=3,cs.post("/permissions");case 3:a=t.sent,a.data.status?n.currentUser=a.data:localStorage.basicToken="";case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),loadAllUsers:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var n,a,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,a=s.length>1&&void 0!==s[1]&&s[1],(a||0===n.users.length)&&cs.get("/users").then(function(t){n.users=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),login:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e,n){var a,s,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,s=n.username,r=n.password,t.next=4,cs.post("/users/login",{username:s,password:r});case 4:return i=t.sent,t.t0=a,t.next=8,i.data();case 8:t.t1=t.sent,(0,t.t0)("setJWT",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}},us={state:{questions:[]},getters:{},mutations:{},actions:{loadAllQuestions:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var n,a,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,a=s.length>1&&void 0!==s[1]&&s[1],(a||0===n.questions.length)&&cs.get("/questions").then(function(t){n.questions=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},ds={state:{sections:[]},getters:{getSectionById:function(t){return function(e){return Object(c["c"])(Object(c["h"])("id",e),t.sections)}}},mutations:{},actions:{loadAllSections:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var n,a,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,a=s.length>1&&void 0!==s[1]&&s[1],(a||0===n.sections.length)&&cs.get("/sections").then(function(t){n.sections=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},ms={state:{forms:[]},getters:{getFormById:function(t){return function(e){return Object(c["c"])(Object(c["h"])("id",e),t.forms)}}},mutations:{},actions:{loadAllForms:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var n,a,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,a=s.length>1&&void 0!==s[1]&&s[1],(a||0===n.forms.length)&&cs.get("/forms").then(function(t){n.forms=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},fs={state:{languages:[]},getters:{},actions:{loadAllLanguages:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var n,a,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,a=s.length>1&&void 0!==s[1]&&s[1],(a||0===n.languages.length)&&cs.get("/languages").then(function(t){n.languages=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},vs={state:{answers:[]},getters:{},mutations:{},actions:{loadAllAnswers:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var n,a,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,a=s.length>1&&void 0!==s[1]&&s[1],(a||0===n.answers.length)&&cs.get("/answers").then(function(t){n.answers=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},ps={state:{groups:[],transformGroups:[]},getters:{},mutations:{},actions:{loadAllGroups:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var n,a,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,a=s.length>1&&void 0!==s[1]&&s[1],(a||0===n.groups.length)&&cs.get("/groups").then(function(t){n.groups=t.data,n.transformGroups=t.data.reduce(function(t,e){return Object(An["a"])({},t,Object(Sn["a"])({},e.id,e))},{})});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},hs={user:ls,question:us,section:ds,form:ms,language:fs,answer:vs,group:ps};a["default"].use(rs["a"]);var xs=new rs["a"].Store({modules:hs,state:{mainModal:null,component:null},mutations:{setMainModal:function(t,e){t.mainModal=e},setComponent:function(t,e){t.component=e}},actions:{}}),gs=function(){return ss["b"].define(function(t){var e=xs.getters.getCurrentUser();e&&e.permissions?e.permissions.forEach(function(e){t(e[0],e[1])}):localStorage.basicToken&&cs.post("/permissions").then(function(e){if(e.data.status){xs.state.user.currentUser=e.data;var n=xs.getters.getCurrentUser();n&&n.permissions&&n.permissions.forEach(function(e){t(e[0],e[1])})}else localStorage.basicToken=""})})},_s=function(t,e,n){var a=gs(),s=Object(c["e"])(["meta","permission"],t);if(s&&a.cannot(s[0],s[1])){var r=Object(c["e"])(["meta","redirect"],t),i=Object(c["c"])(Object(c["h"])("actions","page"),a.rules);return r?n(r):i?(alert("You do not have sufficient permissions"),n("/")):(location.href="/login",n("/login"))}return n()};a["default"].use(p["a"]);var bs=new p["a"]({mode:"history",base:"/admin",routes:[{path:"/home",name:"home",component:vt,beforeEnter:_s,meta:{permission:["page","backend"]}},{path:"/",name:"question",component:Pe,beforeEnter:_s,meta:{permission:["page","backend"]}},{path:"/sections",name:"section",component:te,beforeEnter:_s,meta:{permission:["page","backend"]}},{path:"/forms",name:"form",component:Ne,beforeEnter:_s,meta:{permission:["page","backend"]}},{path:"/translation",name:"translation",component:ze,beforeEnter:_s,meta:{permission:["page","backend"]}},{path:"/answers",name:"answers",component:Fn,beforeEnter:_s,meta:{permission:["page","backend"]}},{path:"/users",name:"users",component:Ia,beforeEnter:_s,meta:{permission:["page","admin"]}},{path:"/groups",name:"Groups",component:as,beforeEnter:_s,meta:{permission:["page","admin"]}},{path:"/fe/logout",name:"logout",beforeEnter:function(t,e,n){localStorage.basicToken="",location.href="/login"}}]}),ws=n("9483");Object(ws["a"])("".concat("/admin-dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var ys=n("a7fe"),ks=n.n(ys),Is=n("340b"),$s=n("2b52");a["default"].config.productionTip=!1,a["default"].filter("dateFormat",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD. MM. YYYY";return t?Object(Is["format"])(t,e):""}),a["default"].filter("getImgUrl",function(t){return"".concat(location.protocol,"//").concat(location.hostname).concat("","/questions/").concat(t,"/img?").concat((new Date).getTime())}),a["default"].filter("employeeName",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?"".concat(t.degree," ").concat(t.firstName," ").concat(t.lastName):e}),a["default"].mixin({methods:{toJson:function(t){try{return JSON.parse(t)}catch(e){return t}}}}),a["default"].use(ks.a,cs),xs.dispatch("loginUserByToken").finally(function(){var t=gs();a["default"].use($s["a"],t),new a["default"]({router:bs,store:xs,render:function(t){return t(v)}}).$mount("#app")})},"71c5":function(t,e,n){},"7d27":function(t,e,n){},b2a2:function(t,e,n){},c27a:function(t,e,n){"use strict";var a=n("7d27"),s=n.n(a);s.a},e5df:function(t,e,n){"use strict";var a=n("71c5"),s=n.n(a);s.a},f713:function(t,e,n){"use strict";var a=n("b2a2"),s=n.n(a);s.a}});
//# sourceMappingURL=app.147b6a49.js.map