(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],a[i]&&m.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},a={app:0},r=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/admin-dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),a=n("ce5b"),r=n.n(a);n("bf40");s["default"].use(r.a,{});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},["login"==t.$route.name?n("v-content",[n("router-view")],1):[n("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[t._l(t.itemsByPermissions,function(e){return[e.heading?n("v-layout",{key:e.heading,attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs6:""}},[e.heading?n("v-subheader",[t._v("\n                "+t._s(e.heading)+"\n              ")]):t._e()],1),n("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[n("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[t._v("EDIT")])])],1):e.children?n("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},model:{value:e.model,callback:function(n){t.$set(e,"model",n)},expression:"item.model"}},[n("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                  "+t._s(e.text)+"\n                ")])],1)],1),t._l(e.children,function(e,s){return n("router-link",{key:s,attrs:{tag:"v-list-tile",to:e.path}},[e.icon?n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1):t._e(),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                  "+t._s(e.text)+"\n                ")])],1)],1)})],2):n("router-link",{key:e.text,attrs:{tag:"v-list-tile",to:e.path}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                "+t._s(e.text)+"\n              ")])],1)],1)]})],2)],1),n("v-toolbar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,color:"blue darken-3",dark:"",app:"",fixed:""}},[n("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("router-link",{staticStyle:{cursor:"pointer"},attrs:{tag:"span",to:"/"}},[t._v("\n          Název aplikace\n        ")])],1),n("v-spacer")],1),n("v-content",[n("router-view")],1)],n(t.mainModal,{tag:"component",attrs:{myData:t.mainModalData}}),n("render-component",{attrs:{component:t.getComponent}})],2)},o=[],c=n("b17e"),l={props:["component"],functional:!0,render:function(t,e){var n=e.props;return n.component}},u={components:{"render-component":l},data:function(){return{dialog:!1,drawer:!1,items:[{icon:"tablet_android",text:"Forms",path:"/forms"},{icon:"tablet_android",text:"Sections",path:"/sections"},{icon:"tablet_android",text:"Questions",path:"/"},{icon:"tablet_android",text:"Answers",path:"/answers"},{icon:"power_settings_new",text:"Log out",path:"/fe/logout"}]}},computed:{mainModal:function(){return this.$store.state.mainModal},getComponent:function(){return this.$store.state.component},mainModalData:function(){return this.$store.state.mainModal?this.$store.state.mainModal.myData:null},itemsByPermissions:function(){var t=this,e=this.items;return Object(c["b"])(function(e){var n=e.auth;return!n||t.$ability.can(n[0],n[1])},e)}},created:function(){}},d=u,m=n("2877"),f=Object(m["a"])(d,i,o,!1,null,null,null);f.options.__file="App.vue";var v=f.exports,p=n("8c4f"),h=(n("a55b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Questions")]),n("v-card",[n("v-card-text",[n("div",{attrs:{xs12:"",color:"white"}},[n("new")],1),n("v-data-table",{staticClass:"elevation-3",attrs:{search:t.search,headers:t.headers,items:t.questions,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.text))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:s.id}}),n("delete",{attrs:{id:s.id}})],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)}),x=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},g=[],b=(n("96cf"),n("3040")),w={methods:{editItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,n,s,a,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,s={},!e){t.next=8;break}return t.next=6,this.axios.get("/questions/".concat(e));case 6:a=t.sent,s=a.data;case 8:this.$store.commit("setComponent",n(X,{attrs:{defaultItem:s,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},y={props:["id"],mixins:[w]},k=y,$=Object(m["a"])(k,_,g,!1,null,null,null);$.options.__file="EditButton.vue";var j=$.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New question")])},O=[],C={mixins:[w]},E=C,S=Object(m["a"])(E,I,O,!1,null,null,null);S.options.__file="NewButton.vue";var A=S.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},R=[],N={props:["id"],methods:{deleteItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this question?")){t.next=4;break}return t.next=3,this.axios.delete("/questions/".concat(e));case 3:this.$store.dispatch("loadAllQuestions",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},B=N,T=Object(m["a"])(B,q,R,!1,null,null,null);T.options.__file="DeleteButton.vue";var D=T.exports,F=function(t){return{functional:!0,render:function(e,n){var s=Object(c["e"])(["parent","$ability"],n);return s&&(!t.auth||t.auth&&t.auth(s))?e(t,n):null}}},U=F(j),P=F(A),M=F(D),Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("section-select",{attrs:{value:t.editedItem.section_id,multiple:!1},on:{change:function(e){t.editedItem.section_id=e.id}}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Index",type:"number"},model:{value:t.editedItem.index,callback:function(e){t.$set(t.editedItem,"index",e)},expression:"editedItem.index"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:"Question"},model:{value:t.editedItem.text,callback:function(e){t.$set(t.editedItem,"text",e)},expression:"editedItem.text"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},L=[],Z=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-select",t._b({attrs:{items:t.sections,"item-text":"name","item-value":"id"},on:{change:t.changeInner}},"v-select",t.currentProps,!1))}),J=[],Y={props:{label:{type:String,default:"Sections"},multiple:{type:Boolean,default:!1},"persistent-hint":{type:Boolean,default:!0},"return-object":{type:Boolean,default:!0},change:Function,value:{default:void 0},rules:Array},created:function(){this.$store.dispatch("loadAllSections")},computed:{sections:function(){return this.$store.state.section.sections},currentProps:function(){return this.$props}},methods:{changeInner:function(t){return this.change?this.change(t):this.$emit("change",t)}}},z=Y,H=Object(m["a"])(z,Z,J,!1,null,null,null);H.options.__file="SectionSelect.vue";var W=H.exports,G={components:{"section-select":W},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit question":"New question"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/questions";this.id>0&&(e+="/"+this.id);var n=new FormData;Object(c["d"])(function(t,e){n.append(e,t)},this.editedItem),this.axios.post(e,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t.$store.dispatch("loadAllQuestions",!0)}),this.close()},onFilePicked:function(t){this.editedItem.img=t.target.files[0]},pickFile:function(){this.$refs.image.click()}}},K=G,V=Object(m["a"])(K,Q,L,!1,null,null,null);V.options.__file="DialogQuestion.vue";var X=V.exports,tt={components:{new:P,edit:U,delete:M},data:function(){return{search:"",headers:[{text:"Znění otázky",value:"text",align:"center"},{text:"Akce",value:"action",align:"center"}]}},computed:{questions:function(){return this.$store.state.question.questions}},created:function(){this.$store.dispatch("loadAllQuestions")},watch:{},methods:{}},et=tt,nt=Object(m["a"])(et,h,x,!1,null,null,null);nt.options.__file="Home.vue";var st=nt.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Sections")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.sections,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.description))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.form_name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.index))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:s.id}}),n("delete",{attrs:{id:s.id}}),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.translate(s)}}},[t._v("language")])],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},rt=[],it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},ot=[],ct={methods:{editItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,n,s,a,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,s={},!e){t.next=8;break}return t.next=6,this.axios.get("/sections/".concat(e));case 6:a=t.sent,s=a.data;case 8:this.$store.commit("setComponent",n(Ut,{attrs:{defaultItem:s,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},lt={props:["id"],mixins:[ct]},ut=lt,dt=Object(m["a"])(ut,it,ot,!1,null,null,null);dt.options.__file="EditButton.vue";var mt=dt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New section")])},vt=[],pt={mixins:[ct]},ht=pt,xt=Object(m["a"])(ht,ft,vt,!1,null,null,null);xt.options.__file="NewButton.vue";var _t=xt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},bt=[],wt={props:["id"],methods:{deleteItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this section?")){t.next=4;break}return t.next=3,this.axios.delete("/sections/".concat(e));case 3:this.$store.dispatch("loadAllSections",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},yt=wt,kt=Object(m["a"])(yt,gt,bt,!1,null,null,null);kt.options.__file="DeleteButton.vue";var $t=kt.exports,jt=F(mt),It=F(_t),Ot=F($t),Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Index",type:"number"},model:{value:t.editedItem.index,callback:function(e){t.$set(t.editedItem,"index",e)},expression:"editedItem.index"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("form-select",{attrs:{value:t.editedItem.form_id,multiple:!1},on:{change:function(e){t.editedItem.form_id=e.id}}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},Et=[],St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-select",t._b({attrs:{items:t.forms,"item-text":"name","item-value":"id"},on:{change:t.changeInner}},"v-select",t.currentProps,!1))},At=[],qt={props:{label:{type:String,default:"Forms"},multiple:{type:Boolean,default:!1},"persistent-hint":{type:Boolean,default:!0},"return-object":{type:Boolean,default:!0},change:Function,value:{default:void 0},rules:Array},created:function(){this.$store.dispatch("loadAllForms")},computed:{forms:function(){return this.$store.state.form.forms},currentProps:function(){return this.$props}},methods:{changeInner:function(t){return this.change?this.change(t):this.$emit("change",t)}}},Rt=qt,Nt=Object(m["a"])(Rt,St,At,!1,null,null,null);Nt.options.__file="FormSelect.vue";var Bt=Nt.exports,Tt={components:{"form-select":Bt},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit section":"New section"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/sections";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllSections",!0)}),this.close()}}},Dt=Tt,Ft=Object(m["a"])(Dt,Ct,Et,!1,null,null,null);Ft.options.__file="DialogSection.vue";var Ut=Ft.exports,Pt={components:{new:It,edit:jt,delete:Ot},data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Description",value:"description",align:"center"},{text:"Form",value:"form_name",align:"center"},{text:"Index",value:"index",align:"center"},{text:"Akce",value:"action",align:"center"}]}},computed:{sections:function(){return this.$store.state.section.sections}},created:function(){this.$store.dispatch("loadAllSections")},watch:{},methods:{translate:function(t){var e=t.id,n=t.name,s=t.description;this.$router.push({path:"/translation",query:{defaults:[n,s],names:["section[".concat(e,"].name"),"section[".concat(e,"].description")]}})}}},Mt=Pt,Qt=Object(m["a"])(Mt,at,rt,!1,null,null,null);Qt.options.__file="Section.vue";var Lt=Qt.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Forms")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.sections,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.name))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:s.id}}),n("delete",{attrs:{id:s.id}}),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.translate(s)}}},[t._v("language")])],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},Jt=[],Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},zt=[],Ht={methods:{editItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,n,s,a,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,s={},!e){t.next=8;break}return t.next=6,this.axios.get("/forms/".concat(e));case 6:a=t.sent,s=a.data;case 8:this.$store.commit("setComponent",n(ge,{attrs:{defaultItem:s,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Wt={props:["id"],mixins:[Ht]},Gt=Wt,Kt=Object(m["a"])(Gt,Yt,zt,!1,null,null,null);Kt.options.__file="EditButton.vue";var Vt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New form")])},te=[],ee={mixins:[Ht]},ne=ee,se=Object(m["a"])(ne,Xt,te,!1,null,null,null);se.options.__file="NewButton.vue";var ae=se.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},ie=[],oe={props:["id"],methods:{deleteItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this form?")){t.next=4;break}return t.next=3,this.axios.delete("/questions/".concat(e));case 3:this.$store.dispatch("loadAllQuestions",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},ce=oe,le=Object(m["a"])(ce,re,ie,!1,null,null,null);le.options.__file="DeleteButton.vue";var ue=le.exports,de=F(Vt),me=F(ae),fe=F(ue),ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},pe=[],he={props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit form":"New form"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/forms";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllForms",!0)}),this.close()}}},xe=he,_e=Object(m["a"])(xe,ve,pe,!1,null,null,null);_e.options.__file="DialogForm.vue";var ge=_e.exports,be={components:{new:me,edit:de,delete:fe},data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Action",value:"action",align:"center"}]}},computed:{sections:function(){return this.$store.state.form.forms}},created:function(){this.$store.dispatch("loadAllForms")},watch:{},methods:{translate:function(t){var e=t.id,n=t.name;this.$router.push({path:"/translation",query:{defaults:[n],names:["form[".concat(e,"].name")]}})}}},we=be,ye=Object(m["a"])(we,Zt,Jt,!1,null,null,null);ye.options.__file="Form.vue";var ke=ye.exports,$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Questions")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("div",{staticStyle:{float:"left"}},[n("new")],1),n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.questions,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.text))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.section_name))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.index))]),n("td",{staticClass:"justify-center layout px-0"},[n("edit",{attrs:{id:s.id}}),n("delete",{attrs:{id:s.id}}),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.translate(s)}}},[t._v("language")])],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},je=[],Ie={components:{new:P,edit:U,delete:M},data:function(){return{search:"",headers:[{text:"Question",value:"text",align:"center"},{text:"Section",value:"section_name",align:"center"},{text:"Index",value:"index",align:"center"},{text:"Akce",value:"action",align:"center"}]}},computed:{questions:function(){return this.$store.state.question.questions}},created:function(){this.$store.dispatch("loadAllQuestions")},watch:{},methods:{translate:function(t){var e=t.id,n=t.text;this.$router.push({path:"/translation",query:{defaults:[n],names:["question[".concat(e,"].text")]}})}}},Oe=Ie,Ce=Object(m["a"])(Oe,$e,je,!1,null,null,null);Ce.options.__file="Question.vue";var Ee=Ce.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Translations")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("v-flex",{attrs:{xs12:"",sm5:""}})],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.rows,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),n("td",{staticClass:"text-xs-center"},[n("v-edit-dialog",{attrs:{lazy:""}},[t._v(" "+t._s(e.item.value)+" "),n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"}},[t._v("\n                  edit\n                ")]),n("v-text-field",{attrs:{slot:"input",label:"Edit",value:e.item.value,"single-line":"",counter:"counter"},on:{change:function(n){return t.save(e.item.langCode,e.item.name,n)}},slot:"input"})],1)],1),n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.langName))])])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},Ae=[],qe=(n("ac6a"),{data:function(){return{search:"",headers:[{text:"Name",value:"name",align:"center"},{text:"Translation",value:"value",align:"center"},{text:"Language",value:"lang",align:"center"}],data:[]}},computed:{rows:function(){var t=this,e=[];return this.$store.state.language.languages.forEach(function(n){var s=Object(c["f"])(Object(c["b"])(Object(c["h"])("lang",n.iso_code)))(t.data);t.$route.query.names.forEach(function(a,r){e.push({langName:n.name,langCode:n.iso_code,name:a,value:Object(c["i"])(t.$route.query.defaults[r],"value",Object(c["c"])(Object(c["h"])("name",a),s))})})}),e}},created:function(){var t=this;this.axios.get("/translations",{params:{filter:{names:this.$route.query.names}}}).then(function(e){t.data=e.data}),this.$store.dispatch("loadAllLanguages")},watch:{},methods:{save:function(t,e,n){var s=this;this.axios.post("/translations",{value:n,name:e,lang:t}).then(function(t){s.axios.get("/translations",{params:{filter:{names:s.$route.query.names}}}).then(function(t){s.data=t.data})})}}}),Re=qe,Ne=Object(m["a"])(Re,Se,Ae,!1,null,null,null);Ne.options.__file="Translation.vue";var Be=Ne.exports,Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"my-3":"","display-2":"","align-center":"","justify-center":""}},[t._v("Answers")]),n("v-card",[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"16px"},attrs:{xs12:"",color:"white"}},[n("v-flex",{attrs:{xs12:"",sm5:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-data-table",{staticClass:"elevation-3",attrs:{"disable-initial-sort":"",search:t.search,headers:t.headers,items:t.answers,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var s=e.item;return[n("tr",[n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.date))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.location))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.technician))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(s.customer))]),n("td",{staticClass:"justify-center layout px-0"},[n("detail-button",{attrs:{id:s.id}})],1)])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          No result found for "'+t._s(t.search)+'".\n        ')])],1)],1)],1)],1)},De=[],Fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(e){t.editItem(t.id)}}},[t._v("\n  edit\n")])},Ue=[],Pe={methods:{editItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,n,s,a,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,s={},!e){t.next=8;break}return t.next=6,this.axios.get("/sections/".concat(e));case 6:a=t.sent,s=a.data;case 8:this.$store.commit("setComponent",n(hn,{attrs:{defaultItem:s,id:e}}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),detailItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,n,s,a,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:0,n=this.$createElement,t.next=4,this.axios.get("/answers/".concat(e,"/detail"));case 4:s=t.sent,a=s.data,this.$store.commit("setComponent",n($n,{attrs:{item:a}}));case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Me={props:["id"],mixins:[Pe]},Qe=Me,Le=Object(m["a"])(Qe,Fe,Ue,!1,null,null,null);Le.options.__file="EditButton.vue";var Ze=Le.exports,Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){t.editItem()}}},[t._v("New section")])},Ye=[],ze={mixins:[Pe]},He=ze,We=Object(m["a"])(He,Je,Ye,!1,null,null,null);We.options.__file="NewButton.vue";var Ge=We.exports,Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{small:"",title:"Archive"},on:{click:function(e){t.deleteItem(t.id)}}},[t._v("\n  delete\n")])},Ve=[],Xe={props:["id"],methods:{deleteItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to archive this section?")){t.next=4;break}return t.next=3,this.axios.delete("/sections/".concat(e));case 3:this.$store.dispatch("loadAllSections",!0);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},tn=Xe,en=Object(m["a"])(tn,Ke,Ve,!1,null,null,null);en.options.__file="DeleteButton.vue";var nn=en.exports,sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Detail"},on:{click:function(e){t.detailItem(t.id)}}},[t._v("\n  remove_red_eye\n")])},an=[],rn={props:["id"],mixins:[Pe]},on=rn,cn=Object(m["a"])(on,sn,an,!1,null,null,null);cn.options.__file="DetailButton.vue";var ln=cn.exports,un=(F(Ze),F(Ge),F(nn),F(ln)),dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-text-field",{attrs:{label:"Index",type:"number"},model:{value:t.editedItem.index,callback:function(e){t.$set(t.editedItem,"index",e)},expression:"editedItem.index"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("form-select",{attrs:{value:t.editedItem.form_id,multiple:!1},on:{change:function(e){t.editedItem.form_id=e.id}}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Uložit")])],1)],1)],1)},mn=[],fn={components:{"form-select":Bt},props:["defaultItem","id"],data:function(){return{editedItem:{}}},computed:{formTitle:function(){return this.editedItem.name?"Edit section":"New section"}},created:function(){this.editedItem=this.defaultItem},methods:{close:function(){this.$store.commit("setComponent",null)},save:function(){var t=this,e="/sections";this.id>0&&(e+="/"+this.id),this.axios.post(e,this.editedItem).then(function(e){t.$store.dispatch("loadAllSections",!0)}),this.close()}}},vn=fn,pn=Object(m["a"])(vn,dn,mn,!1,null,null,null);pn.options.__file="DialogSection.vue";var hn=pn.exports,xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,persistent:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Detail answer")])]),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Customer: "+t._s(t.item.customer))])],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Location: "+t._s(t.item.location))])],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Technician: "+t._s(t.item.technician))])],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-card-text",[t._v("Date: "+t._s(t._f("dateFormat")(t.item.date)))])],1)],1),n("v-expansion-panel",t._l(t.questions,function(e){return n("v-expansion-panel-content",{key:e.question_id,attrs:{"expand-icon":"Yes"===e.answer?"not":void 0}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs1:""}},[t._v("\n              "+t._s(e.section_index)+"."+t._s(e.question_index)+"\n            ")]),n("v-flex",{attrs:{xs9:""}},[t._v("\n              "+t._s(e.question_text)+"\n            ")]),n("v-flex",{attrs:{"offset-xs1":"",xs1:""}},[t._v("\n              "+t._s(e.answer)+"\n            ")])],1)],1),"No"===e.answer&&t.findings[e.question_id]?n("v-card",{staticClass:"grey lighten-3"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs5:""}},[t._v("\n              "+t._s(t.findings[e.question_id].root_cause)+" ")]),n("v-flex",{staticClass:"text-xs-center",attrs:{xs5:""}},[t._v("\n              "+t._s(t.findings[e.question_id].corrective_actions)+"\n            ")]),n("v-flex",{attrs:{xs2:""}},[t._v("\n              "+t._s(t._f("dateFormat")(t.findings[e.question_id].due_date))+"\n            ")])],1)],1):t._e()],1)})),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Zrušit")])],1)],1)],1)},_n=[],gn=n("a322"),bn=n("c93e"),wn={props:["item"],data:function(){return{}},computed:{questions:function(){return Object(c["j"])([Object(c["a"])(Object(c["g"])("section_index")),Object(c["a"])(Object(c["g"])("question_index"))],this.item.questions)},findings:function(){return this.item.findings.reduce(function(t,e){return Object(bn["a"])({},t,Object(gn["a"])({},e.question_id,e))},{})}},created:function(){},methods:{close:function(){console.log(this.findings),this.$store.commit("setComponent",null)}}},yn=wn,kn=(n("c27a"),Object(m["a"])(yn,xn,_n,!1,null,"d70e2892",null));kn.options.__file="DialogDetail.vue";var $n=kn.exports,jn={components:{"detail-button":un},data:function(){return{search:"",headers:[{text:"Date",value:"date",align:"center"},{text:"Location",value:"location",align:"center"},{text:"Technician",value:"technician",align:"center"},{text:"Customer",value:"customer",align:"center"},{text:"Akce",value:"action",align:"center"}]}},computed:{answers:function(){return this.$store.state.answer.answers}},created:function(){this.$store.dispatch("loadAllAnswers")},watch:{},methods:{}},In=jn,On=Object(m["a"])(In,Te,De,!1,null,null,null);On.options.__file="Answer.vue";var Cn=On.exports,En=n("4b58"),Sn=n("2f62"),An=n("bc3a"),qn=n.n(An);qn.a.defaults.baseURL="".concat(location.protocol,"//").concat(location.hostname,":3001"),qn.a.defaults.headers.common["Authorization"]="Bearer ".concat(localStorage.basicToken);var Rn=qn.a,Nn={state:{users:[],currentUser:{},permissions:[]},getters:{getUserById:function(t){return function(e){return Object(c["c"])(Object(c["h"])("id",e),t.users)}},getCurrentUser:function(t){return function(){return t.currentUser}}},mutations:{setCurrentUser:function(t,e){t.currentUser=e}},actions:{loginUserByToken:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,t.next=3,Rn.post("/permissions");case 3:s=t.sent,s.data.status?n.currentUser=s.data:localStorage.basicToken="";case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),loadAllUsers:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var n,s,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=a.length>1&&void 0!==a[1]&&a[1],(s||0===n.users.length)&&Rn.get("/users").then(function(t){n.users=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),loadAllPermissions:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var n,s,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=a.length>1&&void 0!==a[1]&&a[1],(s||0===n.permissions.length)&&Rn.get("/users/permissions").then(function(t){n.permissions=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),login:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e,n){var s,a,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=n.username,r=n.password,t.next=4,Rn.post("/users/login",{username:a,password:r});case 4:return i=t.sent,t.t0=s,t.next=8,i.data();case 8:t.t1=t.sent,(0,t.t0)("setJWT",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}},Bn={state:{questions:[]},getters:{},mutations:{},actions:{loadAllQuestions:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var n,s,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=a.length>1&&void 0!==a[1]&&a[1],(s||0===n.questions.length)&&Rn.get("/questions").then(function(t){n.questions=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Tn={state:{sections:[]},getters:{getSectionById:function(t){return function(e){return Object(c["c"])(Object(c["h"])("id",e),t.sections)}}},mutations:{},actions:{loadAllSections:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var n,s,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=a.length>1&&void 0!==a[1]&&a[1],(s||0===n.sections.length)&&Rn.get("/sections").then(function(t){n.sections=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Dn={state:{forms:[]},getters:{getFormById:function(t){return function(e){return Object(c["c"])(Object(c["h"])("id",e),t.forms)}}},mutations:{},actions:{loadAllForms:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var n,s,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=a.length>1&&void 0!==a[1]&&a[1],(s||0===n.forms.length)&&Rn.get("/forms").then(function(t){n.forms=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Fn={state:{languages:[]},getters:{},actions:{loadAllLanguages:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var n,s,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=a.length>1&&void 0!==a[1]&&a[1],(s||0===n.languages.length)&&Rn.get("/languages").then(function(t){n.languages=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Un={state:{answers:[]},getters:{},mutations:{},actions:{loadAllAnswers:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var n,s,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=a.length>1&&void 0!==a[1]&&a[1],(s||0===n.answers.length)&&Rn.get("/answers").then(function(t){n.answers=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Pn={user:Nn,question:Bn,section:Tn,form:Dn,language:Fn,answer:Un};s["default"].use(Sn["a"]);var Mn=new Sn["a"].Store({modules:Pn,state:{mainModal:null,component:null},mutations:{setMainModal:function(t,e){t.mainModal=e},setComponent:function(t,e){t.component=e}},actions:{}}),Qn=function(){return En["b"].define(function(t){var e=Mn.getters.getCurrentUser();e&&e.permissions?(t("page","Home"),e.permissions.map(function(e){t(e.action,e.subject)})):localStorage.basicToken&&Rn.post("/permissions").then(function(e){if(e.data.status){t("page","Home"),Mn.state.user.currentUser=e.data;var n=Mn.getters.getCurrentUser();n&&n.permissions&&n.permissions.forEach(function(e){t(e.action,e.subject)})}else localStorage.basicToken=""})})};s["default"].use(p["a"]);var Ln=new p["a"]({mode:"history",base:"/admin",routes:[{path:"/home",name:"home",component:st},{path:"/",name:"question",component:Ee},{path:"/sections",name:"section",component:Lt},{path:"/forms",name:"form",component:ke},{path:"/translation",name:"translation",component:Be},{path:"/answers",name:"answers",component:Cn},{path:"/fe/login",name:"login",component:function(){return Promise.resolve().then(n.bind(null,"a55b"))}},{path:"/fe/logout",name:"logout",beforeEnter:function(t,e,n){localStorage.basicToken="",location.href="/"}}]}),Zn=n("9483");Object(Zn["a"])("".concat("/admin-dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Jn=n("a7fe"),Yn=n.n(Jn),zn=n("340b"),Hn=n("2b52");s["default"].config.productionTip=!1,s["default"].filter("dateFormat",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD. MM. YYYY";return t?Object(zn["format"])(t,e):""}),s["default"].filter("employeeName",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?"".concat(t.degree," ").concat(t.firstName," ").concat(t.lastName):e}),s["default"].mixin({methods:{toJson:function(t){try{return JSON.parse(t)}catch(e){return t}}}}),s["default"].use(Yn.a,Rn),Mn.dispatch("loginUserByToken").finally(function(){var t=Qn();s["default"].use(Hn["a"],t),new s["default"]({router:Ln,store:Mn,render:function(t){return t(v)}}).$mount("#app")})},"7d27":function(t,e,n){},a55b:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[n("h1",[t._v("Přihlášení")])]),n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":"","mt-3":""}},[n("v-form",{ref:"form"},[n("v-layout",{attrs:{column:""}},[n("v-flex",[n("v-text-field",{attrs:{rules:t.inputRequired,label:"Uživatelské jméno",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),n("v-flex",[n("v-text-field",{attrs:{rules:t.inputRequired,label:"Heslo",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-flex",{staticClass:"text-xs-center",attrs:{"mt-5":""}},[n("v-btn",{attrs:{color:"primary"},on:{click:t.login}},[t._v("Přihlásit se")])],1)],1)],1)],1)],1)],1)},a=[],r=(n("96cf"),n("3040")),i={data:function(){return{inputRequired:[function(t){return!!t||"Povinné pole"}],username:"",password:""}},computed:{},created:function(){},watch:{},methods:{login:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.form.validate()){t.next=12;break}return t.prev=1,t.next=4,this.axios.post("/login",{username:this.username,password:this.password});case 4:e=t.sent,localStorage.basicToken=e.data.basicToken,location.href="/",t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),alert("Nepovedené přihlášení");case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}()}},o=i,c=n("2877"),l=Object(c["a"])(o,s,a,!1,null,null,null);l.options.__file="Login.vue";e["default"]=l.exports},c27a:function(t,e,n){"use strict";var s=n("7d27"),a=n.n(s);a.a}});
//# sourceMappingURL=app.be7b1177.js.map